/* public/css/pages/home.css */

/* --- Layout Principal --- */
.container-fluid {
    width: 100%; max-width: 100%; padding: 0;
    box-shadow: none; background: var(--light-gray-bg);
}
.main-layout { display: flex; gap: 1rem; padding: 1rem; }
.main-content {
    flex-grow: 1; transition: margin-right 0.3s ease-in-out; width: 100%;
}
.main-content.sidebar-open { margin-right: 410px; }

/* --- Barre latérale (Sidebar) --- */
.details-sidebar {
    width: 400px; flex-shrink: 0; background: #fff; border: 1px solid var(--border-color);
    border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    transform: translateX(110%); transition: transform 0.3s ease-in-out;
    position: fixed; right: 1rem; top: 75px; bottom: 1rem;
    z-index: 900; display: flex; flex-direction: column;
}
.details-sidebar.open { transform: translateX(0); }
.sidebar-header {
    display: flex; justify-content: space-between; align-items: center;
    padding: 1rem 1.5rem; border-bottom: 1px solid var(--border-color); flex-shrink: 0;
}
.sidebar-header h2 { margin: 0; font-size: 1.25rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.sidebar-body { padding: 1rem; overflow-y: auto; flex-grow: 1; }
.sidebar-info h3 { margin-bottom: 0.5rem; }
.sidebar-info-list { list-style: none; padding: 0; font-size: 0.9rem; color: var(--text-muted); }
.sidebar-info-list li { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid var(--light-gray-bg); }
.sidebar-info-list strong { color: var(--text-color); }
.sidebar-attachments { margin-top: 1rem; border-top: 1px solid var(--border-color); padding-top: 1rem; }
.attachments-toggle-btn {
    width: 100%; background: none; border: none; padding: 10px 0;
    text-align: left; font-weight: bold; cursor: pointer;
    display: flex; justify-content: space-between; align-items: center; font-size: 1rem;
}
.attachments-toggle-btn .arrow { transition: transform 0.3s; }
.attachments-toggle-btn.collapsed .arrow { transform: rotate(-90deg); }
.sidebar-attachments-list {
    list-style: none; padding: 0; margin-top: 0.5rem; overflow: hidden;
    max-height: 500px; transition: max-height 0.4s ease-in-out;
}
.sidebar-attachments-list.collapsed { max-height: 0; }
.sidebar-attachments-list a { text-decoration: none; color: var(--primary-color); }

/* --- Modale (CORRIGÉ) --- */
.modal-body-split { 
    display: flex; flex-grow: 1; overflow: hidden; position: relative;
}
.modal-attachments {
    width: 300px; flex-shrink: 0; border-right: 1px solid var(--border-color);
    padding: 0 1rem; overflow-y: auto; 
    transition: width 0.3s ease, padding 0.3s ease, opacity 0.3s ease;
}
.modal-attachments.collapsed { 
    width: 0; padding: 0; border-right-color: transparent; opacity: 0;
}
#modal-attachments-toggle-btn { 
    position: absolute; left: 300px; /* Aligné avec la bordure droite du panneau */
    top: 50%; transform: translateY(-50%);
    z-index: 10;
    background: #fff; border: 1px solid var(--border-color);
    width: 24px; height: 48px;
    border-left: none; border-radius: 0 15px 15px 0;
    padding: 0; padding-left: 2px;
    cursor: pointer; font-size: 1.5rem; line-height: 48px; text-align: center;
    transition: left 0.3s ease, background-color 0.2s;
}
#modal-attachments-toggle-btn:hover { background-color: var(--light-gray-bg); }
.modal-attachments.collapsed + #modal-attachments-toggle-btn {
    left: 0px; /* Déplacé tout à gauche quand le panneau est masqué */
}
.attachments-header { padding-top: 1.5rem; margin-bottom: 1rem; }
.attachments-header h3 { margin: 0; font-size: 1.1rem; }
.modal-attachments-list { list-style: none; padding: 0; }
.modal-attachments-list li { margin-bottom: 0.5rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.modal-attachments-list a { text-decoration: none; color: var(--primary-color); }
.modal-preview { flex-grow: 1; display: flex; flex-direction: column; }
.modal-preview-iframe { width: 100%; height: 100%; border: 1px solid var(--border-color); border-radius: 4px; }


/* --- Styles de base de la page --- */
.header-actions, .card, .folder-grid, .grid-view-container, .context-menu, .file-icon, .table, .document-row { /* ... */ }
.header-actions{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;flex-wrap:wrap;gap:1rem}.upload-form input[type=file]{display:none}.card{background:#fff;border:1px solid var(--border-color);border-radius:8px;margin-bottom:2rem;box-shadow:0 2px 4px rgba(0,0,0,.05)}.card-header{padding:1rem 1.5rem;border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}.card-header h2{margin:0;font-size:1.25rem}.card-body{padding:0}.table{margin-top:0}tr.document-row{cursor:pointer}#print-queue-dashboard .card-header{background-color:var(--secondary-color);color:#fff}#print-queue-dashboard h2{color:#fff}#print-queue-dashboard .card-body{padding:1.5rem}.folder-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:1.5rem;padding:1.5rem}.folder-item{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1.5rem;background-color:var(--light-gray-bg);border-radius:8px;text-decoration:none;color:var(--text-color);transition:transform .2s,box-shadow .2s;text-align:center;border:1px solid var(--border-color)}.folder-item:hover{transform:translateY(-5px);box-shadow:0 4px 12px rgba(0,0,0,.1);border-color:var(--primary-color)}.folder-icon{font-size:3rem;margin-bottom:.5rem}.folder-name{font-weight:500;word-break:break-word}.create-folder-form{display:flex;gap:.5rem}.create-folder-form input{width:auto}.empty-state{text-align:center;padding:20px;color:var(--text-muted)}.breadcrumb-link{color:var(--primary-color);text-decoration:none}.breadcrumb-link:hover{text-decoration:underline}.grid-view-container{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:1.5rem;padding:1.5rem}.grid-item{display:flex;flex-direction:column;align-items:center;justify-content:center;border:1px solid var(--border-color);border-radius:8px;padding:1rem;cursor:pointer;transition:all .2s}.grid-item:hover{border-color:var(--primary-color);box-shadow:0 4px 12px rgba(0,0,0,.1);transform:translateY(-5px)}.grid-item.dragging{opacity:.4}.grid-item-thumbnail{height:80px;width:100%;display:flex;align-items:center;justify-content:center;margin-bottom:.5rem}.file-icon.large{font-size:3rem}.grid-item-name{font-weight:500;text-align:center;word-break:break-word;font-size:.9rem;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.context-menu{position:fixed;z-index:10000;width:220px;background:#fff;border-radius:5px;box-shadow:0 5px 15px rgba(0,0,0,.2);padding:5px 0;list-style:none;margin:0;display:none}.context-menu li{padding:8px 15px;cursor:pointer;display:flex;align-items:center;gap:10px;font-size:.9rem}.context-menu li:hover{background:var(--primary-color);color:#fff}.context-menu li.separator{border-top:1px solid var(--border-color);margin-top:5px;padding-top:5px}.col-name{display:flex;align-items:center;gap:8px}.file-icon{font-size:1.2em}.table tbody tr.dragging{opacity:.4;background:#f0f8ff}.folder-item.drag-over,a#root-dropzone.drag-over{border:2px dashed var(--primary-color);background-color:#f0f8ff}
